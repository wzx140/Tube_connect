#!/usr/bin/env python
# *-* coding: UTF-8 *-*

# Copyright 2012-2019 Ronald RÃ¶mer
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

import json
from copy import deepcopy

# path = 'M-0.188903,0.681407 L0.681407,0.188903 L0.188903,-0.681407 L-0.681407,-0.188903 L-0.371304,-0.248241 L-0.371553,-0.256357 L-0.372303,-0.280802 L-0.363765,-0.295019 L-0.346752,-0.323345 L-0.327831,-0.341416 L-0.298539,-0.369394 L-0.271473,-0.387517 L-0.235004,-0.411937 L-0.204777,-0.426163 L-0.165821,-0.444498 L-0.13843,-0.452005 L-0.101522,-0.46212 L-0.0820466,-0.46212 L-0.0518952,-0.46212 L-0.0427393,-0.456231 L-0.0244964,-0.444498 L-0.0242473,-0.436382 L-0.0234968,-0.411937 L-0.027061,-0.406002 L-0.0490485,-0.369393 L-0.0499043,-0.368576 L-0.0581019,-0.360747 L-0.0922776,-0.325232 L-0.0960884,-0.321272 L-0.15046,-0.283798 L-0.159115,-0.277833 L-0.22123,-0.24961 L-0.228806,-0.246168 L-0.282204,-0.233928 L-0.294278,-0.230619 L-0.295159,-0.230619 L-0.343905,-0.230619 L-0.347727,-0.233077 L-0.371304,-0.248241 L-0.681407,-0.188903 L-0.188903,0.681407 L-0.133981,0.14034 L-0.143137,0.134451 L-0.16138,0.122718 L-0.161629,0.114602 L-0.162379,0.0901566 L-0.158815,0.0842223 L-0.136828,0.0476135 L-0.135972,0.0467961 L-0.127774,0.0389666 L-0.0935986,0.0034521 L-0.0897879,-0.000507916 L-0.035416,-0.037982 L-0.0267608,-0.0439473 L0.0353537,-0.0721699 L0.0429295,-0.0756121 L0.0963279,-0.0878519 L0.108402,-0.0911609 L0.109283,-0.0911609 L0.158029,-0.0911609 L0.161851,-0.0887028 L0.185427,-0.0735389 L0.185677,-0.0654232 L0.186427,-0.0409778 L0.177888,-0.0267611 L0.160875,0.00156527 L0.141955,0.0196363 L0.112662,0.0476136 L0.0855968,0.0657369 L0.049128,0.0901567 L0.0189005,0.104383 L-0.020055,0.122718 L-0.0474465,0.130225 L-0.0843544,0.14034 L-0.10383,0.14034 L-0.133981,0.14034 Z'
# f0 = 1

# path = 'M-0.146702,0.691721 L0.691721,0.146702 L0.146702,-0.691721 L-0.691721,-0.146702 L-0.375109,-0.124739 L-0.372409,-0.151134 L-0.372226,-0.152918 L-0.345298,-0.184072 L-0.338966,-0.191397 L-0.301319,-0.216744 L-0.280775,-0.230575 L-0.24599,-0.24646 L-0.206512,-0.264488 L-0.184811,-0.270936 L-0.127483,-0.287971 L-0.123151,-0.288544 L-0.10819,-0.29052 L-0.0651803,-0.288464 L-0.0513097,-0.287802 L-0.0170826,-0.277883 L0.00729836,-0.270817 L0.0177995,-0.261292 L0.0377966,-0.243152 L0.0375635,-0.239624 L0.0365379,-0.224098 L0.0374715,-0.208741 L0.0377482,-0.204191 L0.00898579,-0.174142 L0.00333366,-0.168237 L-0.0326105,-0.156657 L-0.0609193,-0.142324 L-0.0811241,-0.13663 L-0.14044,-0.119916 L-0.18865,-0.114189 L-0.222929,-0.104003 L-0.250689,-0.100336 L-0.294693,-0.094523 L-0.342789,-0.09988 L-0.348266,-0.10049 L-0.372251,-0.118554 L-0.375378,-0.120747 L-0.375363,-0.120973 L-0.375109,-0.124739 L-0.691721,-0.146702 L-0.146702,0.691721 L-0.158666,0.308966 L-0.161136,0.308966 L-0.181153,0.294931 L-0.187636,0.290048 L-0.187581,0.28951 L-0.18687,0.282561 L-0.185222,0.258156 L-0.185111,0.256506 L-0.16157,0.222203 L-0.15459,0.212033 L-0.127765,0.188163 L-0.100494,0.163896 L-0.0895414,0.156881 L-0.0694202,0.143993 L-0.0478161,0.12424 L-0.0344437,0.112013 L-0.00579974,0.0930793 L0.0344928,0.066446 L0.040408,0.0640168 L0.0655544,0.0536898 L0.0876267,0.04024 L0.0962193,0.0350041 L0.137779,0.0329464 L0.14594,0.0325423 L0.159235,0.0455776 L0.175318,0.0577553 L0.17547,0.0640535 L0.176316,0.0990064 L0.160673,0.133137 L0.150857,0.154555 L0.116997,0.197824 L0.101029,0.212033 L0.0934551,0.216884 L0.0315927,0.256506 L-0.00333138,0.272526 L-0.0426126,0.290544 L-0.0943029,0.304614 L-0.11029,0.308966 L-0.158666,0.308966 Z'
# f0 = 1

path = 'M-0.049277,0.705388 L0.705388,0.049277 L0.049277,-0.705388 L-0.705388,-0.049277 L-0.049277,0.705388 L-0.0500279,0.413294 L-0.059712,0.413024 L-0.0642204,0.412899 L-0.0732216,0.412392 L-0.0782968,0.412106 L-0.0866251,0.411393 L-0.0922357,0.410913 L-0.0999041,0.410026 L-0.106016,0.40932 L-0.11304,0.408289 L-0.119615,0.407325 L-0.126014,0.406181 L-0.133013,0.404929 L-0.138807,0.4037 L-0.146188,0.402133 L-0.151401,0.400845 L-0.159119,0.398938 L-0.163775,0.397618 L-0.171784,0.395347 L-0.175912,0.394018 L-0.184163,0.391362 L-0.187791,0.390047 L-0.196235,0.386987 L-0.199393,0.385707 L-0.207979,0.382227 L-0.2107,0.381 L-0.219377,0.377086 L-0.221693,0.375929 L-0.230408,0.371572 L-0.232352,0.370498 L-0.241054,0.36569 L-0.242659,0.364712 L-0.251296,0.359448 L-0.252596,0.358576 L-0.261116,0.352855 L-0.262144,0.352095 L-0.270498,0.345919 L-0.271287,0.345276 L-0.279424,0.338649 L-0.280006,0.338127 L-0.287879,0.331057 L-0.288285,0.330654 L-0.295848,0.323153 L-0.296108,0.322868 L-0.303317,0.314948 L-0.303458,0.314776 L-0.310273,0.306456 L-0.310322,0.30639 L-0.314703,0.300416 L-0.316628,0.297689 L-0.316647,0.297662 L-0.322322,0.288667 L-0.322384,0.288568 L-0.327513,0.279407 L-0.327603,0.279247 L-0.332192,0.269919 L-0.332294,0.26971 L-0.336349,0.260216 L-0.336453,0.259972 L-0.339976,0.250309 L-0.340072,0.250046 L-0.343066,0.240211 L-0.343147,0.239944 L-0.345611,0.229935 L-0.345674,0.229682 L-0.347607,0.219493 L-0.347649,0.219272 L-0.349046,0.208901 L-0.349069,0.20873 L-0.349926,0.19817 L-0.349934,0.198069 L-0.350241,0.187317 L-0.350242,0.187304 L-0.350212,0.186013 L-0.349811,0.176425 L-0.349801,0.176314 L-0.348768,0.165475 L-0.348729,0.165214 L-0.347139,0.154475 L-0.347053,0.154043 L-0.34493,0.143442 L-0.344772,0.142818 L-0.342144,0.132395 L-0.34189,0.131559 L-0.338788,0.121351 L-0.338409,0.120285 L-0.33487,0.110328 L-0.334335,0.109013 L-0.330398,0.0993414 L-0.329674,0.0977626 L-0.325382,0.0884098 L-0.324433,0.086553 L-0.31983,0.0775495 L-0.31862,0.0754027 L-0.313756,0.0667772 L-0.312245,0.0643304 L-0.30717,0.056109 L-0.30532,0.0533546 L-0.300085,0.0455607 L-0.297855,0.0424935 L-0.292515,0.0351479 L-0.289865,0.0317652 L-0.284475,0.0248857 L-0.281362,0.0211873 L-0.275978,0.0147886 L-0.272364,0.0107771 L-0.267042,0.00487094 L-0.262884,0.00055159 L-0.257682,-0.00485367 L-0.252942,-0.00947285 L-0.247914,-0.014372 L-0.242553,-0.0192802 L-0.237757,-0.0236714 L-0.231738,-0.0288552 L-0.227227,-0.0327397 L-0.220515,-0.0381828 L-0.216343,-0.0415654 L-0.208904,-0.0472489 L-0.205124,-0.0501373 L-0.196927,-0.05604 L-0.193587,-0.0584452 L-0.184604,-0.0645429 L-0.181752,-0.066479 L-0.171957,-0.0727456 L-0.169638,-0.0742296 L-0.159009,-0.0806365 L-0.157264,-0.0816883 L-0.145781,-0.0882048 L-0.144649,-0.0888469 L-0.132297,-0.0954404 L-0.131814,-0.095698 L-0.122523,-0.100357 L-0.118573,-0.102006 L-0.118284,-0.102118 L-0.104703,-0.107396 L-0.103394,-0.107868 L-0.0907698,-0.112419 L-0.0884246,-0.1132 L-0.0767956,-0.117076 L-0.0734045,-0.118115 L-0.0628004,-0.121367 L-0.0583596,-0.122612 L-0.0488039,-0.125292 L-0.0433155,-0.126691 L-0.0348253,-0.128855 L-0.028297,-0.130354 L-0.0208828,-0.132057 L-0.0133276,-0.133604 L-0.00699395,-0.134901 L0.00156982,-0.136443 L0.0068244,-0.137389 L0.0163736,-0.138875 L0.0205562,-0.139526 L0.031063,-0.140906 L0.0341861,-0.141316 L0.0456183,-0.14254 L0.0476995,-0.142762 L0.0600209,-0.143783 L0.0610825,-0.143871 L0.0742532,-0.144641 L0.0743218,-0.144645 L0.0752489,-0.144677 L0.0872821,-0.142063 L0.089304,-0.141578 L0.099767,-0.139066 L0.103771,-0.138011 L0.11179,-0.135899 L0.117585,-0.134233 L0.123367,-0.132572 L0.130774,-0.130261 L0.134512,-0.129095 L0.143361,-0.126112 L0.145239,-0.125479 L0.15537,-0.121801 L0.155564,-0.121731 L0.156799,-0.12125 L0.155413,-0.12064 L0.155167,-0.120531 L0.144312,-0.115473 L0.142117,-0.11445 L0.133636,-0.110274 L0.12962,-0.108297 L0.123369,-0.105054 L0.117663,-0.102094 L0.113502,-0.099823 L0.106234,-0.0958571 L0.10402,-0.0945882 L0.0953182,-0.0896025 L0.0949102,-0.0893574 L0.0928105,-0.088096 L0.0853524,-0.0861841 L0.0850119,-0.0860968 L0.0756868,-0.0834623 L0.0749061,-0.0832417 L0.0661453,-0.0805359 L0.0649332,-0.0801615 L0.056737,-0.0774125 L0.0551046,-0.0768649 L0.0474706,-0.0740995 L0.0454308,-0.0733606 L0.0383543,-0.0706046 L0.0359218,-0.0696573 L0.0293956,-0.0669351 L0.0265869,-0.0657635 L0.0206017,-0.0630983 L0.0174349,-0.0616881 L0.0119794,-0.0591016 L0.00847381,-0.0574396 L0.00353471,-0.0549521 L-0.000288809,-0.0530265 L-0.00472646,-0.050657 L-0.00884604,-0.0484573 L-0.0127987,-0.0462232 L-0.0171915,-0.0437404 L-0.0206772,-0.0416576 L-0.0253192,-0.0388839 L-0.0283571,-0.0369669 L-0.0332238,-0.033896 L-0.0358343,-0.0321578 L-0.0409005,-0.0287847 L-0.0431049,-0.0272368 L-0.0483447,-0.0235577 L-0.0501652,-0.0222103 L-0.0555525,-0.0182228 L-0.0570118,-0.0170844 L-0.0625202,-0.0127875 L-0.0636418,-0.0118653 L-0.0692445,-0.00725908 L-0.0700523,-0.00655901 L-0.0757227,-0.0016448 L-0.0762408,-0.0011713 L-0.0819522,0.00404837 L-0.082205,0.0042921 L-0.0879308,0.00981354 L-0.0879426,0.0098256 L-0.0882324,0.0101206 L-0.0939615,0.0152711 L-0.0940911,0.0153876 L-0.0997838,0.0208028 L-0.100037,0.0210438 L-0.105377,0.0264237 L-0.105741,0.0267903 L-0.110737,0.0321275 L-0.111198,0.03262 L-0.115858,0.0379081 L-0.116403,0.038526 L-0.120738,0.0437592 L-0.121353,0.0445013 L-0.125372,0.0496745 L-0.126043,0.0505392 L-0.129756,0.055648 L-0.130471,0.0566328 L-0.133887,0.0616733 L-0.134633,0.0627752 L-0.137761,0.0677444 L-0.138526,0.0689596 L-0.141376,0.0738549 L-0.142147,0.0751793 L-0.144729,0.0799987 L-0.145495,0.0814276 L-0.147817,0.0861697 L-0.148566,0.0876979 L-0.150638,0.0923617 L-0.151359,0.0939835 L-0.153189,0.0985687 L-0.153872,0.100278 L-0.155469,0.104784 L-0.156104,0.106575 L-0.157476,0.111003 L-0.158053,0.112867 L-0.159207,0.117218 L-0.159719,0.119149 L-0.160662,0.123423 L-0.161101,0.125414 L-0.16184,0.129614 L-0.162199,0.131656 L-0.162738,0.135782 L-0.163011,0.137869 L-0.163357,0.141923 L-0.163538,0.144046 L-0.163696,0.148031 L-0.163781,0.150181 L-0.163754,0.154098 L-0.163739,0.156269 L-0.16353,0.160121 L-0.163412,0.162303 L-0.163026,0.166092 L-0.162803,0.168277 L-0.16224,0.172005 L-0.161911,0.174186 L-0.161173,0.177856 L-0.160737,0.180024 L-0.159826,0.183637 L-0.159284,0.185784 L-0.158199,0.189343 L-0.157552,0.191462 L-0.156293,0.194968 L-0.155544,0.197052 L-0.154109,0.200507 L-0.153261,0.202547 L-0.151648,0.205952 L-0.150705,0.207944 L-0.148912,0.2113 L-0.147879,0.213235 L-0.145903,0.216543 L-0.144785,0.218416 L-0.142622,0.221677 L-0.141426,0.223482 L-0.139072,0.226695 L-0.137804,0.228427 L-0.135255,0.231592 L-0.133924,0.233245 L-0.131174,0.236362 L-0.129788,0.237933 L-0.126831,0.241 L-0.125399,0.242485 L-0.12223,0.245499 L-0.120762,0.246895 L-0.117374,0.249855 L-0.115881,0.25116 L-0.112266,0.254063 L-0.110759,0.255274 L-0.106911,0.258116 L-0.105401,0.259232 L-0.101313,0.26201 L-0.0998115,0.26303 L-0.0954756,0.265738 L-0.0939955,0.266663 L-0.0894041,0.269297 L-0.0879578,0.270127 L-0.0831034,0.272681 L-0.0817038,0.273418 L-0.0765789,0.275885 L-0.075239,0.27653 L-0.0698361,0.278904 L-0.0685691,0.279461 L-0.0628809,0.281733 L-0.0617001,0.282205 L-0.0557196,0.284368 L-0.0546383,0.284759 L-0.0483587,0.286804 L-0.04739,0.28712 L-0.040805,0.289037 L-0.039962,0.289282 L-0.0330658,0.291062 L-0.0323614,0.291244 L-0.0251485,0.292876 L-0.0245952,0.293001 L-0.017061,0.294474 L-0.0166709,0.29455 L-0.0088115,0.295853 L-0.00859645,0.295889 L-0.000408469,0.297009 L-0.000379695,0.297013 L0.000855392,0.297147 L0.00780977,0.298346 L0.00811563,0.298391 L0.016135,0.299553 L0.0168204,0.299633 L0.0246218,0.300554 L0.0257075,0.300653 L0.0332641,0.301346 L0.0347698,0.301445 L0.0420556,0.301924 L0.0439999,0.302003 L0.0509896,0.302285 L0.0533896,0.302322 L0.0600588,0.302424 L0.0629304,0.302396 L0.0692557,0.302336 L0.072613,0.302221 L0.0785723,0.302018 L0.0824277,0.301793 L0.0880001,0.301467 L0.092364,0.301105 L0.0975302,0.300678 L0.102411,0.300155 L0.107153,0.299648 L0.112557,0.298938 L0.116859,0.298373 L0.122789,0.29745 L0.126638,0.296851 L0.133095,0.295688 L0.136478,0.295079 L0.143461,0.293649 L0.146368,0.293054 L0.153873,0.291331 L0.156297,0.290774 L0.164316,0.28873 L0.166251,0.288237 L0.174774,0.285847 L0.176218,0.285442 L0.18523,0.282678 L0.186184,0.282386 L0.19567,0.279225 L0.196135,0.27907 L0.205702,0.275621 L0.20614,0.275596 L0.206244,0.275588 L0.218597,0.274629 L0.221691,0.274325 L0.231465,0.273362 L0.237725,0.272613 L0.244749,0.271773 L0.254344,0.270419 L0.25845,0.26984 L0.271539,0.267707 L0.272566,0.26754 L0.277206,0.266681 L0.275449,0.269238 L0.275211,0.269584 L0.269784,0.277101 L0.268743,0.278543 L0.263816,0.285045 L0.261864,0.287623 L0.257537,0.293073 L0.254559,0.296823 L0.250933,0.301184 L0.24681,0.306145 L0.243995,0.309382 L0.238599,0.315588 L0.236709,0.317666 L0.229906,0.325151 L0.229064,0.326039 L0.223251,0.332162 L0.220411,0.333954 L0.220215,0.334078 L0.209748,0.340332 L0.208801,0.340898 L0.198822,0.346538 L0.197082,0.347522 L0.18764,0.352563 L0.185065,0.353938 L0.176208,0.358399 L0.17276,0.360136 L0.164532,0.364036 L0.160176,0.366102 L0.152621,0.369466 L0.147324,0.371825 L0.140482,0.374679 L0.134215,0.377293 L0.128124,0.379665 L0.120862,0.382493 L0.115555,0.384416 L0.107277,0.387414 L0.102787,0.38892 L0.0934748,0.392044 L0.0898281,0.39317 L0.0794701,0.396369 L0.0766906,0.397154 L0.0652787,0.400379 L0.0633859,0.400864 L0.0509174,0.40406 L0.0499266,0.404288 L0.036404,0.407402 L0.0363258,0.407418 L0.0351555,0.407656 L0.0225738,0.409327 L0.0219407,0.409411 L0.00880008,0.410815 L0.00748193,0.410956 L-0.00497255,0.41196 L-0.00696482,0.412121 L-0.0187273,0.412758 L-0.0213791,0.412902 L-0.032447,0.413204 L-0.0357404,0.413294 L-0.0461145,0.413294 L-0.0500279,0.413294 Z'
f0 = 1

# path = 'M-0.049277,0.705388 L0.705388,0.049277 L0.049277,-0.705388 L-0.705388,-0.049277 L-0.049277,0.705388 L-0.0500279,0.413294 L-0.0922357,0.410913 L-0.133013,0.404929 L-0.163775,0.397618 L-0.207979,0.382227 L-0.230408,0.371572 L-0.251296,0.359448 L-0.279424,0.338649 L-0.310273,0.306456 L-0.332192,0.269919 L-0.345611,0.229935 L-0.350241,0.187317 L-0.347139,0.154475 L-0.33487,0.110328 L-0.324433,0.086553 L-0.292515,0.0351479 L-0.257682,-0.00485367 L-0.227227,-0.0327397 L-0.171957,-0.0727456 L-0.122523,-0.100357 L-0.0884246,-0.1132 L0.00156982,-0.136443 L0.0742532,-0.144641 L0.117585,-0.134233 L0.156799,-0.12125 L0.0953182,-0.0896025 L0.0454308,-0.0733606 L0.00353471,-0.0549521 L-0.0283571,-0.0369669 L-0.0757227,-0.0016448 L-0.105377,0.0264237 L-0.120738,0.0437592 L-0.144729,0.0799987 L-0.153189,0.0985687 L-0.159719,0.119149 L-0.163011,0.137869 L-0.163754,0.154098 L-0.159826,0.183637 L-0.151648,0.205952 L-0.145903,0.216543 L-0.12223,0.245499 L-0.112266,0.254063 L-0.0817038,0.273418 L-0.0330658,0.291062 L0.0332641,0.301346 L0.0880001,0.301467 L0.143461,0.293649 L0.205702,0.275621 L0.277206,0.266681 L0.263816,0.285045 L0.223251,0.332162 L0.185065,0.353938 L0.147324,0.371825 L0.115555,0.384416 L0.0652787,0.400379 L0.036404,0.407402 L0.00880008,0.410815 L-0.0500279,0.413294 Z'
# f0 = 1

pts = list(map(lambda pt: list(map(lambda c: float(c), pt.split(','))), path[1:-2].split(' L')))

for i in range(1, len(pts)):
    pts[-i][0] = pts[-i][0]-pts[-(i+1)][0]
    pts[-i][1] = pts[-i][1]-pts[-(i+1)][1]

# print('path => m' + ' '.join([ ','.join(map(str, p)) for p in pts ]))

polys = []

for f in [1, 10, 100, 1000]:
    pts2 = deepcopy(pts)

    for pt in pts2:
        pt[0] *= f0*f
        pt[1] *= f0*f

    polys.append(pts2)

with open('diagn.json', 'w') as f:
    json.dump({'polys': polys}, f)
